<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Storytelling â€” Interactive</title>
  <style>
    :root{--bg1:#0a1a40;--bg2:#123c7a;--card:#102a56;--accent:#4ea8ff;--muted:#b0c4de;}
    *{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial}
    body{margin:0;min-height:100vh;background:linear-gradient(135deg,var(--bg1),var(--bg2));background-size:400% 400%;animation:gradientShift 12s ease infinite;color:#e6eef6;display:flex;align-items:center;justify-content:center;padding:24px}
    @keyframes gradientShift {0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
    .app{width:100%;max-width:840px;background:rgba(255,255,255,0.05);border-radius:14px;padding:20px;box-shadow:0 10px 30px rgba(0,0,0,0.4)}
    h1{margin:0;font-size:1.6rem}
    p.lead{margin:8px 0 18px;color:var(--muted)}
    .screen{display:none;padding:16px}
    .screen.active{display:block}
    .btn{display:inline-block;padding:10px 16px;border-radius:8px;background:transparent;border:1px solid rgba(255,255,255,0.1);cursor:pointer;margin:6px;font-weight:600;color:#fff;transition:all .3s}
    .btn.primary{background:var(--accent);color:#001b33;border:none}
    .btn:hover{transform:scale(1.05);background:rgba(78,168,255,0.2)}
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin:10px 0}
    input[type=text], textarea{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.1);background:rgba(0,0,0,0.2);color:inherit}
    .note{margin:14px 0;color:#ffdddd;background:rgba(255, 0, 0,0.1);padding:14px;border-radius:8px;border:1px solid rgba(255,0,0,0.2);font-size:1.2rem;font-weight:bold;text-align:center}
    .highlight-msg{margin:20px 0;padding:20px;background:rgba(78,168,255,0.15);border:2px solid var(--accent);border-radius:10px;font-size:1.3rem;font-weight:bold;text-align:center}
    .nav{margin-top:20px;display:flex;gap:10px;flex-wrap:wrap}
  </style>
</head>
<body>
  <div class="app" role="application">
    <!-- Screen 1: Welcome -->
    <section id="screen1" class="screen active">
      <h1>Welcome to Storytelling</h1>
      <p class="lead">Tell your story to <strong>Tanish</strong>.</p>
      <button class="btn primary" onclick="goTo('screen2')">Proceed</button>
    </section>

    <!-- Screen 2: Genres -->
    <section id="screen2" class="screen">
      <h2>Select a Genre</h2>
      <div class="grid">
        <button class="btn" onclick="selectGenre('Action', 'actionOptions')">Action</button>
        <button class="btn" onclick="selectGenre('Romance', 'romanceBlock')">Romance</button>
        <button class="btn" onclick="selectGenre('Sci Fi', 'sciFiConfirm')">Sci Fi</button>
        <button class="btn" onclick="selectGenre('Feel Good', 'feelGoodName')">Feel Good</button>
        <button class="btn" onclick="selectGenre('Thriller', 'screenOneLiner')">Thriller</button>
        <button class="btn" onclick="selectGenre('Crime', 'screenOneLiner')">Crime</button>
        <button class="btn" onclick="selectGenre('Horror', 'screenDetails')">Horror</button>
        <button class="btn" onclick="selectGenre('Shramana', 'screenOneLiner')">Shramana</button>
      </div>
      <div class="nav"><button class="btn" onclick="goBack()">Back</button></div>
    </section>

    <!-- Action Sub-options -->
    <section id="actionOptions" class="screen">
      <h2>Action Sub-Genre</h2>
      <div class="grid">
        <button class="btn" onclick="goTo('screenOneLiner')">Spy?</button>
        <button class="btn" onclick="goTo('screenOneLiner')">New?</button>
      </div>
      <div class="nav"><button class="btn" onclick="goBack()">Back</button></div>
    </section>

    <!-- Romance block -->
    <section id="romanceBlock" class="screen">
      <div class="highlight-msg">Poda naayi</div>
      <div class="nav"><button class="btn" onclick="goBack()">Back</button></div>
    </section>

    <!-- Sci-Fi confirm -->
    <section id="sciFiConfirm" class="screen">
      <div class="highlight-msg">u r selected!</div>
      <div class="nav"><button class="btn" onclick="goTo('screenOneLiner')">Next</button><button class="btn" onclick="goBack()">Back</button></div>
    </section>

    <!-- Feel good ask name -->
    <section id="feelGoodName" class="screen">
      <h2>Enter your name</h2>
      <input id="feelName" type="text" placeholder="Your name" />
      <div class="nav"><button class="btn primary" onclick="feelGoodCheck()">Submit</button><button class="btn" onclick="goBack()">Back</button></div>
    </section>

    <!-- Feel good reject -->
    <section id="feelReject" class="screen">
      <div class="highlight-msg">Rejected: sorus not allowed</div>
      <div class="nav"><button class="btn" onclick="goBack()">Back</button></div>
    </section>

    <!-- One-liner -->
    <section id="screenOneLiner" class="screen">
      <h2>Enter a One-liner</h2>
      <textarea id="oneLiner" maxlength="100" placeholder="Type your story idea..."></textarea>
      <div class="nav"><button class="btn primary" onclick="checkOneLiner()">Next</button><button class="btn" onclick="goBack()">Back</button></div>
    </section>

    <!-- One-liner warning -->
    <section id="revengeWarn" class="screen">
      <div class="note">if the story is about villain's brother taking revenge ill kill u</div>
      <div class="nav"><button class="btn" onclick="goTo('screenDetails')">Next</button><button class="btn" onclick="goBack()">Back</button></div>
    </section>

    <!-- Details screen -->
    <section id="screenDetails" class="screen">
      <h2>Enter Details</h2>
      <input id="userName" type="text" placeholder="Your name" />
      <input id="movies" type="text" placeholder="Previous movies" />
      <div class="nav"><button class="btn primary" onclick="checkDetails()">Submit</button><button class="btn" onclick="goBack()">Back</button></div>
    </section>

    <!-- Special name messages -->
    <section id="specialMsg" class="screen">
      <div id="specialText" class="highlight-msg"></div>
      <div class="nav"><button class="btn primary" onclick="goTo('confirmation')">Next</button><button class="btn" onclick="goBack()">Back</button></div>
    </section>

    <!-- Confirmation screen -->
    <section id="confirmation" class="screen">
      <h2>Confirmation</h2>
      <pre id="confirmData"></pre>
      <div class="nav">
        <button class="btn primary" onclick="restart()">Another Story?</button>
      </div>
    </section>
  </div>

  <script>
    let historyStack = ['screen1'];
    let selectedGenre = ""; // store selected genre

    function goTo(id){
      document.querySelector('.screen.active').classList.remove('active');
      document.getElementById(id).classList.add('active');
      historyStack.push(id);
    }
    function goBack(){
      if(historyStack.length>1){
        document.querySelector('.screen.active').classList.remove('active');
        historyStack.pop();
        document.getElementById(historyStack[historyStack.length-1]).classList.add('active');
      }
    }
    function showScreen(id){goTo(id)}

    function selectGenre(genre, nextScreen){
      selectedGenre = genre; // save genre
      goTo(nextScreen);
    }

    function actionGenre(){goTo('actionOptions')}

    function feelGoodCheck(){
      let val=document.getElementById('feelName').value.trim().toLowerCase();
      if(val==='sorus'){goTo('feelReject')}else{goTo('screenOneLiner')}
    }

    function checkOneLiner(){
      let val=document.getElementById('oneLiner').value.toLowerCase();
      if(val.includes("villain") && val.includes("revenge")){
        goTo('revengeWarn');
      } else {
        goTo('screenDetails');
      }
    }

    function checkDetails(){
      let name=document.getElementById('userName').value.trim();
      let movie=document.getElementById('movies').value.trim();
      const specials={
        'kute':'ohh shoresh fans','ga':'olle','sorus':'Magadi!!','dev darshan':'kovam pola !!','senapathy':'varmam potruva pathyy!!','za':'soodu!!','allae':'rip galla and shramana and bute story'
      };
      if(specials[name.toLowerCase()]){
        document.getElementById('specialText').innerText=specials[name.toLowerCase()];
        goTo('specialMsg');
      } else {
        showConfirmation(name,movie);
      }
    }

    function showConfirmation(name,movie){
      let today=new Date();
      let appoint=new Date();
      appoint.setDate(today.getDate()+2); // 2 days from confirmation
      let data="Name: "+name+
               "\nMovies: "+movie+
               "\nGenre: "+selectedGenre+
               "\nAppointment: "+appoint.toDateString();
      document.getElementById('confirmData').innerText=data;
      goTo('confirmation');
    }

    function restart(){
      document.querySelector('.screen.active').classList.remove('active');
      historyStack=['screen1'];
      document.getElementById('screen1').classList.add('active');
      selectedGenre=""; // reset genre
    }
  </script>
</body>
</html>
